<!-- src/app/movie-card/movie-card.component.html -->
<div style="display: grid; gap: 1rem; grid-template-columns: repeat(auto-fill, minmax(17rem, 1fr)); padding: 5ch 5ch;">
   @for(movie of movies; track movie.id; let idx=$index ) {
    <mat-card style="flex: 1 1 auto; padding: 5px 5px; align-items: center;" appearance="raised" >
        <mat-card-title-group style="display: block;">
        <mat-card-title style="text-align: center;">@if(movie.title[21]){ {{ movie.title.slice(0,20).concat('...') | uppercase}} } @else{ {{ movie.title | uppercase }} }</mat-card-title>
        <mat-card-subtitle>{{movie.genre.name | uppercase}}</mat-card-subtitle>
        </mat-card-title-group>
        <img mat-card-image src="{{movie.imagePath}}" alt="{{movie.title}}" loading="lazy"/>
        <mat-card-actions>
            <button
                mat-raised-button
                color="primary"
                (click)="getGenre(movie)"
            >
                Genre
            </button>
            <button
                mat-raised-button
                color="primary"
                (click)="getDirector(movie)"
            >
                Director
            </button>
            <button
                mat-raised-button
                color="primary"
                (click)="getSynopsis(movie)"
            >
                Synopsis
            </button>
            <mat-icon (click)="toggleFavoriteMovie(movie)">@if(isFavoriteMovie(movie)){ {{fav}} } @else{ {{notFav}} }</mat-icon>
        </mat-card-actions>
    </mat-card>}
    @empty {
        <div style="width: 80vw; height: 80svh; margin: auto;">
        <h1 class="loading">Movies are still loading. Thank you for your patience.</h1>
        </div>
        }
</div>